<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <title>In Driver</title>
</head>
<body>
    <section class="section">
        <div class="container">
            <div class="box">
                <h5 class="title is-1">ðŸš˜ Driver Form</h5>
                <h2 class="subtitle is-3">Fill in the vehicle data in this form</h2>
            </div>
            <div class="box my-6">
                <div class="field">
                    <label class="label" for="idConductor">CI:</label>
                    <div class="control">
                        <input class="input" type="text" id="idConductor" placeholder="Exammple: 3247396">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="licensenumber">License number:</label>
                    <div class="control">
                        <input class="input" type="text" id="licensenumber" placeholder="Exammple: 3247396">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="carmake">Car make:</label>
                    <div class="control">
                        <input class="input" type="text" id="carmake" placeholder="Example: Toyota ">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="carmodel">Car model:</label>
                    <div class="control">
                        <input class="input" type="text" id="carmodel" placeholder="Example: Sedan">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="carcolor">Car color:</label>
                    <div class="control">
                        <input class="input" type="text" id="carcolor" placeholder="Example: Rojo">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="caryear">Car year:</label>
                    <div class="control">
                        <input class="input" type="text" id="caryear" placeholder="Example: 3">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="carlicenceplate">Car licence plate:</label> 
                    <div class="control">
                        <input class="input" type="carlicenceplate" id="carlicenceplate" placeholder="Example: 5242anr">
                    </div>
                </div>
                <div class="block">
                    <button class="button is-primary is-meidum is-fullwidth mt-6" onclick="submitForm()">Submit</button>
                </div>    
            </div>
        </div>
    </section>
    <script>
        function submitForm() {

            function getValues() {
                return {
                    idConductor: document.getElementById('idConductor').value,
                    licensenumber: document.getElementById('licensenumber').value,
                    carmake: document.getElementById('carmake').value,
                    carmodel: document.getElementById('carmodel').value,
                    carcolor: document.getElementById('carcolor').value,
                    caryear: document.getElementById('caryear').value,
                    carlicenceplate: document.getElementById('carlicenceplate').value,
                }
            }
            
            const url = 'http://localhost:3000/conductor';
            const method = 'POST';
            const headers = {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            };
            const body = JSON.stringify(getValues());
            const medatata = { method, headers, body };
            fetch(url, medatata)
            .then(response => response.json())
            .then(response => console.log(JSON.stringify(response)))
        }
        //revisar peticion
    </script>
</body>
</html>